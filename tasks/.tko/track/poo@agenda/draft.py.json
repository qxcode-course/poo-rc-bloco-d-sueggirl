{
    "patches": [
        {
            "label": "2025-12-02_15-20-40",
            "content": "@@ -1,2 +1,24 @@\n-%0A\n+@@ -1,2 +0,0 @@%0A-%250A%250A\n %0A\n",
            "lines": "2"
        },
        {
            "label": "2025-12-02_15-22-53",
            "content": "@@ -1,42 +1,2 @@\n %0A%0A\n-%0A%0Aelifee%0A%0A%0Aelife%0Ae%0A%0Aelife%0Aelife%0Aelife%0A%0A%0A\n",
            "lines": "2"
        },
        {
            "label": "2025-12-02_15-31-03",
            "content": "@@ -39,23 +39,4 @@\n e%0A%0A%0A\n-ygi%0A%0Akmmlk match%0A%0A%0A\n",
            "lines": "15"
        },
        {
            "label": "2025-12-02_15-56-03",
            "content": "@@ -54,11 +54,8 @@\n match%0A%0A%0A\n-%0A%0A%0A\n",
            "lines": "20"
        },
        {
            "label": "2025-12-02_16-26-31",
            "content": "@@ -61,49 +61,4 @@\n %0A%0A%0A%0A\n-%0A%0A%5D%0A%0A%0A%0A%0A%0Allll%0A%0Al%0Al%0Al%0Al%0A%0Al%0All%0All%0All%0A%0Al%0All%0A%0All%0A\n",
            "lines": "23"
        },
        {
            "label": "2025-12-02_16-26-46",
            "content": "@@ -81,18 +81,16 @@\n %0Al%0Al%0Al%0A%0A\n-%0A%0A\n l%0All%0All%0A\n",
            "lines": "47"
        },
        {
            "label": "2025-12-02_19-03-53",
            "content": "@@ -1,1045 +1,111 @@\n-class Fone:%0A    def __init__(self, id: str, number: str):%0A        self.id = id%0A        self.number = number%0A%0A    def isValid(self) -%3E bool:%0A        if not self.id or not self.number:%0A            return False%0A        if any(c.isalpha() for c in self.number):%0A            return False%0A        return True%0A    %0A    def getId(self):%0A        return self.id%0A    %0A    def getNumber(self):%0A        return self.number%0A    %0A    def __str__(self):%0A        return f%22%7Bself.id%7D:%7Bself.number%7D%22%0A    %0Aclass Contact:%0A    def __init__(self, name: str):%0A        self.fone: list%5BFone%5D = %5B%5D%0A        self.name = name%0A        self.fav: bool = False%0A%0A    def addFone(self, id: str, number: str):%0A        fone = Fone(id, number)%0A        if not fone.isValid():%0A            print(%22fail: invalid number%22)%0A            return%0A        self.fone.append(fone)%0A        %0A%0A    def rmFone(self, index: int):%0A        self.fone.pop(index)%0A%0A    def toggleFav(self):%0A        if self.fav == False:%0A            self.fav = True%0A            return%0A        else:%0A            self.fav = False\n+%0A%0A%0A%0Aelifee%0A%0A%0Aelife%0Ae%0A%0Aelife%0Aelife%0Aelife%0A%0A%0Aygi%0A%0Akmmlk match%0A%0A%0A%0A%0A%0A%0A%0A%5D%0A%0A%0A%0A%0A%0Allll%0A%0Al%0Al%0Al%0Al%0A%0A%0A%0Al%0All%0All%0All%0A%0Al%0All%0A%0All\n %0A\n",
            "lines": "49"
        },
        {
            "label": "2025-12-02_19-54-18",
            "content": "@@ -1042,2687 +1042,4 @@\n lse%0A\n-%0A    def isFav(self) -%3E bool:%0A        if self.fav == True:%0A            return True%0A        else:%0A            return False%0A        %0A    def getFones(self):%0A        return self.fone%0A    %0A    def getName(self):%0A        return self.name%0A    %0A    def setName(self, name: str):%0A        self.name = name%0A%0A    def matches(self, pattern: str) -%3E bool:%0A        if pattern in self.name:%0A            return True%0A        for f in self.fone:%0A            if pattern in f.id or pattern in f.number:%0A                return True%0A        return False%0A%0A    def __str__(self):%0A        fone = %22, %22.join(%5Bstr(x) for x in self.fone%5D)%0A        if self.fav == True:%0A            return f%22@ %7Bself.name%7D %5B%7Bfone%7D%5D%22%0A        else:%0A            return f%22- %7Bself.name%7D %5B%7Bfone%7D%5D%22%0A        %0Aclass Agenda:%0A    def __init__(self):%0A        self.contact: list%5BContact%5D = %5B%5D%0A%0A    def findPosByName(self, name: str) -%3E int:%0A        for i, c in enumerate(self.contact):%0A            if c.getName() == name:%0A                return i%0A        return -1%0A%0A    def addContact(self, name: str, fones: list%5BFone%5D):%0A        pos = self.findPosByName(name)%0A        if pos == -1:%0A            contact = Contact(name)%0A            for f in fones:%0A                contact.addFone(f.id, f.number)%0A            self.contact.append(contact)%0A        else:%0A            contact = self.contact%5Bpos%5D%0A            for f in fones:%0A                contact.addFone(f.id, f.number)%0A%0A    def rmContact(self, name: str):%0A        pos = self.findPosByName(name)%0A        if pos == -1:%0A            print(%22fail: contact not found%22)%0A            return%0A        self.contact.pop(pos)%0A%0A    def getContact(self, name: str):%0A        pos = self.findPosByName(name)%0A        if pos == -1:%0A            return None%0A        return self.contact%5Bpos%5D%0A%0A    def search(self, pattern: str) -%3E list%5BContact%5D:%0A        result = %5B%5D%0A        for c in self.contact:%0A            if c.matches(pattern):%0A                result.append(c)%0A        return sorted(result, key=lambda x: x.getName())%0A    %0A    def getFavorited(self) -%3E list%5BContact%5D:%0A        return %5Bc for c in self.contact if c.isFav()%5D%0A%0A    def getContacts(self) -%3E list%5BContact%5D:%0A        return self.contact%0A    %0A    def __str__(self):%0A        order = sorted(self.contact, key= lambda x:x.getName())%0A        return %22%5Cn%22.join(str(contact) for contact in order)%0A        %0Adef main():%0A    agenda = Agenda()%0A    while True:%0A        line = input()%0A        print(%22$%22 + line)%0A        args = line.split()%0A        if args%5B0%5D == %22end%22:%0A            break%0A        elif args%5B0%5D == %22show%22:%0A            print(agenda)%0A        elif args%5B0%5D == %22add%22:%0A            name = args%5B1%5D%0A            fone = %5B%5D%0A            for token in args%5B2:%5D:%0A                \n",
            "lines": "44"
        },
        {
            "label": "2025-12-02_20-59-01",
            "content": "@@ -3725,1124 +3725,4 @@\n     \n-try:%0A                    id, number = token.split(%22:%22)%0A                    fone.append(Fone(id, number))%0A                except:%0A                    print(%22fail: invalid fone format%22)%0A            agenda.addContact(name, fone)%0A        elif args%5B0%5D == %22rm%22:%0A            agenda.rmContact(args%5B1%5D)%0A        elif args%5B0%5D == %22rmFone%22:%0A            name = args%5B1%5D%0A            index = int(args%5B2%5D)%0A            contact = agenda.getContact(name)%0A            if contact is None:%0A                print(%22fail: contact not found%22)%0A            else:%0A                contact.rmFone(index)%0A        elif args%5B0%5D == %22tfav%22:%0A            name = args%5B1%5D%0A            contact = agenda.getContact(name)%0A            if contact is None:%0A                print(%22fail: contact not found%22)%0A            else:%0A                contact.toggleFav()%0A        elif args%5B0%5D == %22favs%22:%0A            for c in agenda.getFavorited():%0A                print(c)%0A        elif args%5B0%5D == %22search%22:%0A            pattern = args%5B1%5D%0A            en = agenda.search(pattern)%0A%0A            for contato in en:%0A                print(contato)%0A%C3%A7k%0Ajij%5B%0A    opjpoj%0A%0A    ohoi%0A%0A%0A    ihoj%0A%5D\n",
            "lines": "142"
        },
        {
            "label": "2025-12-02_21-13-45",
            "content": "@@ -4800,14 +4800,49 @@\n ontato)%0A\n-main()\n+%C3%A7k%0Ajij%5B%0A    opjpoj%0A%0A    ohoi%0A%0A%0A    ihoj%0A%5D\n",
            "lines": "182"
        },
        {
            "label": "2025-12-02_21-27-53",
            "content": "@@ -2730,17 +2730,17 @@\n pos == -\n-2\n+1\n :%0A      \n",
            "lines": "174"
        },
        {
            "label": "2025-12-02_21-28-31",
            "content": "@@ -2734,9 +2734,9 @@\n == -\n-3\n+2\n :%0A  \n",
            "lines": "174"
        },
        {
            "label": "2025-12-02_21-28-41",
            "content": "@@ -1698,16 +1698,17 @@\n eturn f%22\n+@\n  %7Bself.n\n@@ -2722,33 +2722,33 @@\n      if pos == -\n-1\n+3\n :%0A            re\n",
            "lines": "174"
        },
        {
            "label": "2025-12-02_21-29-05",
            "content": "@@ -1702,9 +1702,8 @@\n n f%22\n-@\n  %7Bse\n",
            "lines": "174"
        },
        {
            "label": "2025-12-02_21-45-33",
            "content": "@@ -44,22 +44,23 @@\n  number:\n+ \n str):%0A\n-\n         \n@@ -102,16 +102,215 @@\n number%0A%0A\n+    def isValid(self) -%3E bool:%0A        if not self.id or not self.number:%0A            return False%0A        if any(c.isalpha() for c in self.number):%0A            return False%0A        return True%0A    %0A\n     def \n@@ -345,16 +345,21 @@\n self.id%0A\n+    %0A\n     def \n@@ -367,32 +367,32 @@\n etNumber(self):%0A\n+\n         return s\n@@ -411,208 +411,8 @@\n    %0A\n-    def eValido(self) -%3E bool:%0A        if not self.id or not self.number:%0A            return False %0A        if any(p.isalpha() for p in self.number):%0A            return False%0A        return True%0A    %0A\n     \n",
            "lines": "174"
        },
        {
            "label": "2025-12-03_23-19-07",
            "content": "@@ -483,18 +483,18 @@\n ss Conta\n+c\n t\n-o\n :%0A    de\n@@ -515,39 +515,16 @@\n f, n\n-o\n+a\n me: str\n-, fone: list%5BFone%5D = %5B%5D\n ):%0A \n@@ -543,15 +543,25 @@\n fone\n- = fone\n+: list%5BFone%5D = %5B%5D\n %0A   \n@@ -575,19 +575,18 @@\n lf.n\n-o\n+a\n me = n\n-o\n+a\n me\n- \n %0A   \n@@ -598,21 +598,16 @@\n self.fav\n-orito\n : bool =\n@@ -711,23 +711,23 @@\n ot fone.\n-e\n+is\n Valid\n-o\n ():%0A    \n@@ -782,17 +782,16 @@\n   return\n- \n %0A       \n@@ -813,16 +813,25 @@\n nd(fone)\n+%0A        \n %0A%0A    de\n@@ -836,11 +836,10 @@\n def \n-del\n+rm\n Fone\n@@ -887,20 +887,16 @@\n (index)%0A\n-    \n %0A    def\n@@ -901,21 +901,16 @@\n ef t\n-rocarFavorito\n+oggleFav\n (sel\n@@ -928,29 +928,24 @@\n  if self.fav\n-orito\n  == False:%0A \n@@ -963,21 +963,16 @@\n self.fav\n-orito\n  = True%0A\n@@ -1024,21 +1024,16 @@\n self.fav\n-orito\n  = False\n@@ -1046,17 +1046,13 @@\n def \n-e\n+is\n Fav\n-orito\n (sel\n@@ -1086,13 +1086,8 @@\n .fav\n-orito\n  == \n@@ -1230,17 +1230,17 @@\n def getN\n-o\n+a\n me(self)\n@@ -1262,17 +1262,17 @@\n n self.n\n-o\n+a\n me%0A    %0A\n@@ -1283,17 +1283,17 @@\n def setN\n-o\n+a\n me(self,\n@@ -1294,17 +1294,17 @@\n (self, n\n-o\n+a\n me: str)\n@@ -1323,16 +1323,16 @@\n lf.n\n-o\n+a\n me = n\n-o\n+a\n me%0A%0A\n@@ -1404,17 +1404,17 @@\n n self.n\n-o\n+a\n me:%0A    \n@@ -1694,33 +1694,33 @@\n turn f%22@ %7Bself.n\n-o\n+a\n me%7D %5B%7Bfone%7D%5D%22%0A  \n@@ -1761,17 +1761,17 @@\n  %7Bself.n\n-o\n+a\n me%7D %5B%7Bfo\n@@ -1855,18 +1855,18 @@\n st%5BConta\n+c\n t\n-o\n %5D = %5B%5D%0A%0A\n@@ -1978,17 +1978,17 @@\n f c.getN\n-o\n+a\n me() == \n@@ -2181,18 +2181,18 @@\n  = Conta\n+c\n t\n-o\n (name)%0A \n@@ -2826,34 +2826,34 @@\n r) -%3E list%5BConta\n+c\n t\n-o\n %5D:%0A        resul\n@@ -3052,34 +3052,34 @@\n f) -%3E list%5BConta\n+c\n t\n-o\n %5D:%0A        retur\n@@ -3159,18 +3159,18 @@\n st%5BConta\n+c\n t\n-o\n %5D:%0A     \n",
            "lines": "173"
        },
        {
            "label": "2025-12-03_23-24-41",
            "content": "@@ -1699,37 +1699,32 @@\n      if self.fav\n-orito\n  == True:%0A      \n@@ -3049,25 +3049,25 @@\n da x: x.getN\n-o\n+a\n me())%0A    %0A \n@@ -3155,25 +3155,21 @@\n ct if c.\n-e\n+is\n Fav\n-orito\n ()%5D%0A%0A   \n@@ -3318,25 +3318,25 @@\n bda x:x.getN\n-o\n+a\n me())%0A      \n@@ -4318,19 +4318,18 @@\n contact.\n-del\n+rm\n Fone(ind\n@@ -4561,29 +4561,24 @@\n ontact.t\n-rocarFavorito\n+oggleFav\n ()%0A     \n",
            "lines": "172"
        },
        {
            "label": "2025-12-03_23-26-15",
            "content": "@@ -145,21 +145,16 @@\n self.id%0A\n-    %0A\n     def \n",
            "lines": "172"
        },
        {
            "label": "2025-12-03_23-26-30",
            "content": "@@ -2420,38 +2420,8 @@\n os%5D%0A\n-            contact.fone = %5B%5D%0A\n     \n@@ -4797,16 +4797,17 @@\n attern)%0A\n+%0A\n         \n@@ -4860,15 +4860,14 @@\n ontato)%0A\n-%0A\n main()\n",
            "lines": "173"
        },
        {
            "label": "2025-12-03_23-30-18",
            "content": "@@ -549,61 +549,12 @@\n %5D = \n-None):%0A        if fone is None:%0A            fone = \n %5B%5D\n+):\n %0A   \n",
            "lines": "174"
        },
        {
            "label": "2025-12-03_23-31-25",
            "content": "@@ -2465,16 +2465,46 @@\n ct%5Bpos%5D%0A\n+            contact.fone = %5B%5D%0A\n         \n",
            "lines": "176"
        },
        {
            "label": "2025-12-03_23-32-52",
            "content": "class Fone:\n    def __init__(self, id: str, number:str):\n        self.id = id\n        self.number = number\n\n    def getId(self):\n        return self.id\n    \n    def getNumber(self):\n        return self.number\n    \n    def eValido(self) -> bool:\n        if not self.id or not self.number:\n            return False \n        if any(p.isalpha() for p in self.number):\n            return False\n        return True\n    \n    def __str__(self):\n        return f\"{self.id}:{self.number}\"\n    \nclass Contato:\n    def __init__(self, nome: str, fone: list[Fone] = None):\n        if fone is None:\n            fone = []\n        self.fone = fone\n        self.nome = nome \n        self.favorito: bool = False\n\n    def addFone(self, id: str, number: str):\n        fone = Fone(id, number)\n        if not fone.eValido():\n            print(\"fail: invalid number\")\n            return \n        self.fone.append(fone)\n\n    def delFone(self, index: int):\n        self.fone.pop(index)\n    \n    def trocarFavorito(self):\n        if self.favorito == False:\n            self.favorito = True\n            return\n        else:\n            self.favorito = False\n\n    def eFavorito(self) -> bool:\n        if self.favorito == True:\n            return True\n        else:\n            return False\n        \n    def getFones(self):\n        return self.fone\n    \n    def getNome(self):\n        return self.nome\n    \n    def setNome(self, nome: str):\n        self.nome = nome\n\n    def matches(self, pattern: str) -> bool:\n        if pattern in self.nome:\n            return True\n        for f in self.fone:\n            if pattern in f.id or pattern in f.number:\n                return True\n        return False\n\n    def __str__(self):\n        fone = \", \".join([str(x) for x in self.fone])\n        if self.favorito == True:\n            return f\"@ {self.nome} [{fone}]\"\n        else:\n            return f\"- {self.nome} [{fone}]\"\n        \nclass Agenda:\n    def __init__(self):\n        self.contact: list[Contato] = []\n\n    def findPosByName(self, name: str) -> int:\n        for i, c in enumerate(self.contact):\n            if c.getNome() == name:\n                return i\n        return -1\n\n    def addContact(self, name: str, fones: list[Fone]):\n        pos = self.findPosByName(name)\n        if pos == -1:\n            contact = Contato(name)\n            for f in fones:\n                contact.addFone(f.id, f.number)\n            self.contact.append(contact)\n        else:\n            contact = self.contact[pos]\n            for f in fones:\n                contact.addFone(f.id, f.number)\n\n    def rmContact(self, name: str):\n        pos = self.findPosByName(name)\n        if pos == -1:\n            print(\"fail: contact not found\")\n            return\n        self.contact.pop(pos)\n\n    def getContact(self, name: str):\n        pos = self.findPosByName(name)\n        if pos == -1:\n            return None\n        return self.contact[pos]\n\n    def search(self, pattern: str) -> list[Contato]:\n        result = []\n        for c in self.contact:\n            if c.matches(pattern):\n                result.append(c)\n        return sorted(result, key=lambda x: x.getNome())\n    \n    def getFavorited(self) -> list[Contato]:\n        return [c for c in self.contact if c.eFavorito()]\n\n    def getContacts(self) -> list[Contato]:\n        return self.contact\n    \n    def __str__(self):\n        order = sorted(self.contact, key= lambda x:x.getNome())\n        return \"\\n\".join(str(contact) for contact in order)\n        \ndef main():\n    agenda = Agenda()\n    while True:\n        line = input()\n        print(\"$\" + line)\n        args = line.split()\n        if args[0] == \"end\":\n            break\n        elif args[0] == \"show\":\n            print(agenda)\n        elif args[0] == \"add\":\n            name = args[1]\n            fone = []\n            for token in args[2:]:\n                try:\n                    id, number = token.split(\":\")\n                    fone.append(Fone(id, number))\n                except:\n                    print(\"fail: invalid fone format\")\n            agenda.addContact(name, fone)\n        elif args[0] == \"rm\":\n            agenda.rmContact(args[1])\n        elif args[0] == \"rmFone\":\n            name = args[1]\n            index = int(args[2])\n            contact = agenda.getContact(name)\n            if contact is None:\n                print(\"fail: contact not found\")\n            else:\n                contact.delFone(index)\n        elif args[0] == \"tfav\":\n            name = args[1]\n            contact = agenda.getContact(name)\n            if contact is None:\n                print(\"fail: contact not found\")\n            else:\n                contact.trocarFavorito()\n        elif args[0] == \"favs\":\n            for c in agenda.getFavorited():\n                print(c)\n        elif args[0] == \"search\":\n            pattern = args[1]\n            en = agenda.search(pattern)\n            for contato in en:\n                print(contato)\n\nmain()",
            "lines": "175"
        }
    ]
}